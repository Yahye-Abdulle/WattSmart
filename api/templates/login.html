<div class="screen-container">
    <div class="iphone">
        <div class="iphone-inner">
            <div class="main">
                <input type="checkbox" id="chk" aria-hidden="true">
                <label class="switch">
                    <input type="checkbox" id="TTSStatus">
                    <span class="slider round"></span>
                  </label>
                  <p class="sliderText">Toggle Text-To-Speech</p>

                <div class="signup">
                    <form method="post" action="{% url 'signup' %}">
                        {% csrf_token %}
                        <label for="chk" aria-hidden="true" name="Sign Up">Sign up</label>
                        <input type="text" name="first_name" placeholder="First Name" required>
                        <input type="text" name="last_name" placeholder="Last Name" required>
                        <input type="email" name="email" placeholder="Email" required>
                        <input type="password" name="password" id="password" placeholder="Password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" required>
                        <div class="feedback">
                            <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
                            <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
                            <p id="number" class="invalid">A <b>number</b></p>
                            <p id="length" class="invalid">Minimum <b>8 characters</b></p>
                        </div>
                        <input type="date" name="age" placeholder="Date of Birth" required>
                        <button type="submit" name="signup">Sign up</button>
                    </form>
                </div>

                <div class="login">
                    <form method="post" action="{% url 'signup' %}">
                        {% csrf_token %}
                        <label for="chk" aria-hidden="true" name="Login">Login</label>
                        <input type="email" name="email" placeholder="Email" required="">
                        <input type="password" name="password" placeholder="Password" required="">
                        <button type="submit" name="login">Login</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Attach click event handlers to all inputs
        var inputs = document.querySelectorAll('input');
        inputs.forEach(function (input) {
            input.addEventListener('click', function () {
                var text = input.getAttribute('placeholder');
                if (text != null) {
                    var getCheckbox = document.getElementById('TTSStatus');
                    if (getCheckbox.checked) {
                        speak(text);
                    }
                }
            });
        });

        // Function to convert text to speech
        function speak(text) {
            var synth = window.speechSynthesis;
            var utterance = new SpeechSynthesisUtterance(text);
            synth.speak(utterance);
        }
    });

    var myInput = document.getElementById("password");
    var letter = document.getElementById("letter");
    var capital = document.getElementById("capital");
    var number = document.getElementById("number");
    var length = document.getElementById("length");

    // When the user clicks on the password field, show the message box
    myInput.onfocus = function () {
        document.getElementById("message").style.display = "block";
    }

    // When the user clicks outside of the password field, hide the message box
    myInput.onblur = function () {
        document.getElementById("message").style.display = "none";
    }

    // When the user starts to type something inside the password field
    myInput.onkeyup = function () {
        // Validate lowercase letters
        var lowerCaseLetters = /[a-z]/g;
        if (myInput.value.match(lowerCaseLetters)) {
            letter.classList.remove("invalid");
            letter.classList.add("valid");
        } else {
            letter.classList.remove("valid");
            letter.classList.add("invalid");
        }

        // Validate capital letters
        var upperCaseLetters = /[A-Z]/g;
        if (myInput.value.match(upperCaseLetters)) {
            capital.classList.remove("invalid");
            capital.classList.add("valid");
        } else {
            capital.classList.remove("valid");
            capital.classList.add("invalid");
        }

        // Validate numbers
        var numbers = /[0-9]/g;
        if (myInput.value.match(numbers)) {
            number.classList.remove("invalid");
            number.classList.add("valid");
        } else {
            number.classList.remove("valid");
            number.classList.add("invalid");
        }

        // Validate length
        if (myInput.value.length >= 8) {
            length.classList.remove("invalid");
            length.classList.add("valid");
        } else {
            length.classList.remove("valid");
            length.classList.add("invalid");
        }
    }
</script>

<style>
    body {
        margin: 0;
        padding: 0;
        font-family: 'Roboto', sans-serif;
        background-color: #096192;
    }

    .screen-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #096192;
    }

    .iphone {
        width: 403px;
        height: 812px;
        background: #303032;
        border-radius: 35px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .iphone-inner {
        height: 782px;
        width: 373px;
        border: 5px solid #303032;
        border-radius: 35px;
        overflow: hidden;
        position: relative;
        background: linear-gradient(190deg, #00456B 0.99%, #00456B 125.25%);

    }

    .iphone-bottom {
        display: flex;
        justify-content: space-around;
        align-items: center;
        position: absolute;
        bottom: 0px;
        width: calc(100%);
        height: calc(9%);
        border-top: 1px solid linear-gradient(190deg, #00456B 0.99%, #00456B 125.25%);
        background: linear-gradient(190deg, #00456B 0.99%, #00456B 125.25%);
    }

    .iphone-button {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: none;
        border: none;
        padding: 8px;
        cursor: pointer;
        outline: none;
    }

    .iphone-button img {
        width: 24px;
        height: 24px;
        margin-bottom: 4px;
    }

    .router-link {
        text-decoration: none;
        color: white;
    }

    .main {
        background: red;
        overflow: hidden;
        background: url("https://doc-08-2c-docs.googleusercontent.com/docs/securesc/68c90smiglihng9534mvqmq1946dmis5/fo0picsp1nhiucmc0l25s29respgpr4j/1631524275000/03522360960922298374/03522360960922298374/1Sx0jhdpEpnNIydS4rnN4kHSJtU1EyWka?e=view&authuser=0&nonce=gcrocepgbb17m&user=03522360960922298374&hash=tfhgbs86ka6divo3llbvp93mg4csvb38") no-repeat center/ cover;
        border-radius: 10px;
        box-shadow: 5px 20px 50px #000;
    }

    #chk {
        display: none;
    }

    .signup {
        position: relative;
        width: 100%;
        height: 100%;
        margin-top: 20%;
    }

    label {
        color: #fff;
        font-size: 2.3em;
        justify-content: center;
        display: flex;
        margin: 60px;
        font-weight: bold;
        cursor: pointer;
        transition: .5s ease-in-out;
    }

    input {
        width: 60%;
        height: 40px;
        background: #e0dede;
        justify-content: center;
        display: flex;
        margin: 20px auto;
        padding: 10px;
        border: none;
        outline: none;
        border-radius: 5px;
    }

    p {
        display: flex;
        justify-content: flex-start; 
        margin-left: 30%;
        outline: none;
    }

    b {
        padding-left: 10px;
        padding-right: 10px;
    }

    button {
        width: 60%;
        height: 40px;
        margin: 10px auto;
        justify-content: center;
        display: block;
        color: #fff;
        background: #573b8a;
        font-size: 1em;
        font-weight: bold;
        margin-top: 20px;
        outline: none;
        border: none;
        border-radius: 5px;
        transition: .2s ease-in;
        cursor: pointer;
    }

    button:hover {
        background: #6d44b8;
    }

    .login {
        height: 100%;
        background: #eee;
        transform: translateY(-185px);
        transition: .8s ease-in-out;
    }

    .login label {
        color: #573b8a;
        transform: scale(.6);
    }

    #chk:checked~.login {
        transform: translateY(-797px);
        border-radius: 20% / 10%;
    }

    #chk:checked~.login label {
        transform: scale(1);
    }

    #chk:checked~.signup label {
        transform: scale(.6);
    }

.valid {
  color: green;
}

.valid:before {
  position: relative;
  left: -35px;
  content: "✔";
}
.invalid {
  color: rgb(165, 24, 24);
}

.invalid:before {
  position: relative;
  left: -35px;
  content: "✖";
}

.sliderText {
    position: absolute;
  color: #fff;
  font-size: 17px;
  font-weight: 700;
  top: 1.55%;
  left: 7%;
}

.switch {
  position: absolute;
  top: -40;   
  left: 0;
  width: 60px;
  height: 34px;
}

.switch input { 
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .slider {
  background-color: #2196F3;
}

input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}

.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}
</style>